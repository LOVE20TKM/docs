---
title: "LOVE20 协议设计"
description: "LOVE20 协议是一个基于“流动性质押获取治理权”和“可验证共识行动”的去中心化社群铸币协议。"
---

## 0. 什么是 LOVE20 协议

### 0.1. 定义

LOVE20 协议是一个基于 **流动性质押获取治理权** 和 **可验证共识行动** 的去中心化社群铸币协议。

### 0.2. 目的

LOVE20 协议的目的是帮助社群，铸造真正属于社群的代币，不依赖于任何中心化的团队与应用。

### 0.3. 场景

LOVE20 既可以务实的，作为一个完全去中心化的 Web3 版线上互助打卡社群，大家每天跑步运动、读书学习，并在社交网络打卡，接受社群的共同见证，获得铸币激励，实现个体与社群的共同成长；

同时也可以支持迷因化社群，大家用可验证的共识行动，来传播迷因文化，打造真正的去中心化的迷因社群，铸造真正属于社群的迷因币。

更多的可能，由社群自己来探索。

### 0.4. 名字

LOVE20 中的 LOVE 代表“爱” ，是对自己的爱，对他人的爱，也是所热爱的事物的爱。希望每个人，每天做 **20 分钟** 想做的或热爱的事情，获得精神与物质上的双重富足。

LOVE20 同时也可以拆开理解为 LOVE+ERC20，意为爱的代币化，将爱铸为代币。

最终的定义，在社群的每个人的心中。

### 0.5. 代币

LOVE20 协议内会从第一个同名的 LOVE20 代币开始，以此孵化衍生出子币、孙币、曾孙币...等不限层级的代币，每个代币都是父币社群共识的细化发展。最终形成一个庞大的 LOVE20 树状代币体系。

### 0.6. 铸币

每个代币总量固定，以公平发射完成 10%代币铸造，剩余 90%通过治理机制铸造。

## 1. 公平发射

在公平发射阶段将铸造 10%最大代币量的 代币。

### 1.1. 启动

协议部署时，会自动启动一个与协议同名的 LOVE20 代币的公平发射，以 ERC20 封装后的公链原生代币为父币，用来参与公平发射的申购。

LOVE20 协议里，任何代币在公平发射结束后，可以启动以自己为父币的子币的公平发射。

启动的子币名称满足：

- 6 个字符
- 第 1 个字符为大写英文字母
- 后 5 个字符为大写英文字母、数字

启动子币公平发射的地址需满足：

- 在父币社群有行动推举权
- 在父币社群完成 180 次的治理铸币（每完成 180 次可启动一个子币公平发射）

注意：启动代币公平发射的地址，不会获得任何额外代币，也不会有任何特殊权力。

### 1.2. 申购

进入到公平发射阶段，任何持有父币的人，都可以参与申购，获得代币的初次分配。

- 申购价格：固定，按协议预先设定的父币募集目标数量与代币的发射量计算价格
- 申购限制：不限单个地址参与申购的父币数量，允许超额申购（超额部分将在申购领取时返还）
- 申购领取：
  - 领取时间：公平发射结束的下一个区块开始，可以领取
  - 领取数量：申购结束后按申购额占比计算份额
  - 父币返还：按价格扣除消耗的父币，返还剩余父币

### 1.3. 结束

每一次申购都触发判定：

- 数量判定：累计申购额大于等于父币募集目标数量
- 时间判定：从首笔达成 50%父币募集目标数量的区块高度开始，若最新申购的区块高度，与前者的差达到协议设定的区块数

若两个条件同时满足，则结束公平发射

### 1.4. 退出

- 申购撤回：公平发射未结束，可撤回全部参与申购的父币（需满足申购后等待足够的区块数）
- 托底池返还：发射结束后，募集到的父币会从发射合约转到代币合约作为托底池，为代币整体市值托底。任何人都可以拿代币，来换托底池中的父币。

可换父币数量 = 拖底池父币数量 \* 代币数量 / 已铸造代币量

托底池得到的代币，将全部销毁，变为未铸造代币。

## 2. 治理机制

公平发射结束后，社群将进入流水线式的三阶段治理，治理的目标是通过铸币激励，引导社群积极参与可验证的共识行动，形成社群的共识。

一轮完整的治理由 3 个相同时间长度的阶段组成，前后轮次刚好错开一个阶段的长度，即每轮治理的一个阶段结束后，立即当轮的下一个阶段及下一轮的同阶段。

| 治理轮\阶段 | P(n) | P(n+1) | P(n+2) | P(n+3) | P(n+4) | P(n+5) | P(n+6) |
| ----------- | ---- | ------ | ------ | ------ | ------ | ------ | ------ |
| 第 n 轮     | 投票 | 行动   | 验证   |
| 第 n + 1 轮 |      | 投票   | 行动   | 验证   |
| 第 n + 2 轮 |      |        | 投票   | 行动   | 验证   |
| 第 n + 3 轮 |      |        |        | 投票   | 行动   | 验证   |
| 第 n + 4 轮 |      |        |        |        | 投票   | 行动   | 验证   |

注意：绝对轮次第 0 轮保留，绝对轮次第 1 轮可以进行治理

### 2.1. 参与资格

协议主要分治理者、行动者两种角色。

#### 2.1.1. 治理者资格

治理者通过流动性质押获得治理票数，通过完成投票与验证的治理工作，获取治理激励的铸币资格：

- 治理票数获取：同时质押代币与父币资产对，并承诺释放等待阶段数，获得治理票数。质押后会获得 sl 类（staked Liquidity）代币作为质押凭证，质押的资产将自动添加到由协议部署的 uniswapV2 合约的流动性池增加流动性。治理票数计算公式：承诺释放等待阶段数 \* sl 质押凭证代币数量
- 加速激励：通过质押代币，获得 st 类（staked Token）代币作为质押代币的凭证，参与加速激励的分配
- 治理失效：若质押凭证缺失或不足会导致治理票数失效，无法参与治理，无法获取治理激励
- 承诺释放等待阶段数：每次质押，都需指定承诺释放等待阶段数（有最大最小值范围），且不小于之前质押时承诺的释放等待阶段数
- 质押释放：提交质押资产（sl 资产对 和 st 资产）释放请求，并收回质押资产凭证（sl 与 st），在等待完整的承诺释放等待阶段数后，可领取质押的资产。（例如：承诺释放等待阶段数为 4，则在第 3 轮投票阶段申请质押释放后，在第 7 轮投票阶段结束后，即可领取质押资产）
- 资产数量：资产对的释放，会按照 UniswapV2 的 x\*y=k 公式，基于当前流动池内价格，计算两种资产的释放数量，两种资产的数量乘积，与质押时的数量乘积相同，即若价格与质押时相同，则与质押时的资产数相同。st 类资产释放与质押时的代币数量相同

#### 2.1.2. 行动者资格

任何持币人都可参与行动铸币，无需额外资格要求。

### 2.2. 投票阶段

#### 2.2.1. 治理者在投票阶段的行为

治理者在此阶段进行行动推举和行动投票：

行动推举：

- 资格获取：持有不少于 0.3% 的治理票
- 推举限制：每轮只可推举一个行动
- 推举方式：
  - 推举老行动：从所有本轮未被推举的行动中，选取一个推举到本轮进行投票
  - 推举新行动：创建一个新行动并推举到本轮，行动包含的字段如下：
    - 标题：一句话描述的行动内容
    - 验证规则：详细的行动要求，例如：发推文包含"$代币名称"，满 5 天给 10 分，每少一天减 3 分，没有则 0 分
    - 最小参与量：不为 0 的数
    - 白名单地址：指定唯一可参与行动的地址，不填写表示不限制
    - 最大随机抽取地址数：每轮随机抽取最多多少个地址验证，以使其获取行动激励资格
    - 辅助信息：报名参与行动时，需填写的一个或多个辅助信息，帮助验证者验证：例如：url
    - 辅助信息说明：报名参与行动时，需填写的辅助信息的说明：例如：社交平台个人主页地址链接

行动投票：

- 从本轮已推举出的行动中，选择 1 个或多个行动投票，每轮投票数不超过持有的治理票数

#### 2.2.2. 持币人在投票阶段的行为

无链上行为，等待进入行动阶段，查看投票结果即可。

### 2.3. 行动阶段

#### 2.3.1. 治理者在行动阶段的行为

无链上行为，观察社群对于各行动的参与度和反馈，来优化迭代行动，或调整后续轮次投票支持的行动。

#### 2.3.2. 持币人在行动阶段的行为

- 行动参与：在行动阶段，所有在投票阶段获得投票的行动，都可以通过向行动质押代币的方式加入行动，也可以随时追加代币，追加后当轮立即生效。一次参与，后续一直有效，直到主动退出为止。加入行动时，根据行动的辅助信息填写指引，填写行动报名所需填写的辅助信息，帮助验证者验证你的行动，例如：你的社交平台的信息流地址或个人主页地址等。阶段快结束前的最后一些区块，无法报名参加行动，也无法追加代币到行动中。

- 行动进行：对于已经报名参与的行动，应按照行动验证规则，开始链上链下的行动。

- 行动退出：从本轮开始，退出行动，并立即取回此行动累计参与的代币

注意：只有当轮投票阶段超过 3%的行动，才有资格参与本轮的行动激励的分配，行动参与者要注意所参与行动是否当轮有行动激励，来及时调整自己参与的行动

### 2.4. 验证阶段

#### 2.4.1. 治理者在验证阶段的行为

每个参与的行动，将根据质押量大小，在行动阶段结束，进入验证阶段后，随机抽取待验证地址，质押量越大，被抽中验证的概率越大。

治理者负责在验证阶段，对自己投过票的行动，根据验证规则，验证随机每个抽取地址的行动完成情况，并分配累计不多于投票阶段投票数的验证票，可投弃权票。

#### 2.4.2. 持币人在验证阶段的行为

无链上行为，等待验证结果即可。

### 2.5. 激励分配机制

治理三阶段结束，则一轮治理完成，可以开始铸造本轮的激励。

每轮可铸造的激励 = 0.2% \* (最大铸币量 - 已铸币量 - 之前轮次预留的未铸造未销毁的激励)

其中 50%为治理激励，50%为行动激励。

#### 2.5.1. 治理激励（代币总量 45%）

治理激励 50% 为验证激励，50% 为加速激励，在验证阶段后铸造：

- 验证激励：根据本轮验证票占本轮所有验证票的比例进行分配
- 加速激励：质押持有 st 代币可获得加速激励，按投票时质押代币占投票的总质押代币数量的比例计算加速激励，但最多不超过 2 倍的验证激励，超出部分在铸造治理激励时销毁，留作后续轮次的激励。若所有投票验证者，在验证时都都没有质押持有 st 代币，则本轮加速激励销毁

#### 2.5.2. 行动激励（代币总量 45%）

行动激励按行动分别铸造，投票阶段所获得的投票达到总投票的 3% 的行动，其参与者将参与行动激励的分配，分配基于所获得的验证票的比例。

每个行动被抽取到的验证地址，都可以铸造本行动的行动激励：

可铸造的激励数量 = 获得的验证票 \* 本轮行动激励 / （有激励的行动的总验证票数 - 有激励的行动的总弃权票）

## 3. 特殊情况

### 3.1. 激励预留

- 触发时机：当轮首个验证
- 预留数量：计算并预留本轮的激励（治理激励、行动激励）

### 3.2. 销毁加速激励

- 触发时机：当轮首个铸造治理激励的地址
- 销毁条件：所有参与验证的治理者，都没有质押代币
- 销毁数量：本轮所有加速激励

### 3.3. 销毁行动激励

- 触发时机：当轮首个铸造治理激励的地址
- 销毁条件：有激励的行动的验证票都是弃权票
- 销毁数量：本轮所有行动激励

### 3.4. 验证地址准备

- 触发时机：验证、行动参与、行动退出时，验证阶段待验证的随机抽取地址若还未生成，则会触发生成。其中行动参与和行动退出时触发生成的是上一轮的验证地址
- 地址数量：不超过最大地址数，若同一个地址抽到多次会合并返回，故可能会少于最大地址数

### 3.5. 随机数更新

- 初始随机数生成：随机数合约地址加部署时的区块高度
- 每轮默认随机数：若当前轮次未触发过随机数更新，则使用随机数合约地址和轮次来生成随机数
- 随机数种子更新：首个代币的治理者，在治理验证时，验证票数达到 0.03%则会触发随机数种子更新，更新的计算方式为上一个随机数种子加验证者地址加当前区块高度作为本轮最新的随机数种子的值
- 封装方式：uint256(keccak256(abi.encode(前一个随机数种子值，验证者地址，所在区块高度)))

### 3.6. 流动性质押手续费分配

- 触发时机：每个地址取回质押资产时
- 触发条件：流动性质押产生的手续费收入，达到阈值
- 分配方式：手续费收入由两种代币构成，其中代币销毁，增加未来治理和行动激励，父币注入托底池，增大代币最低市值
